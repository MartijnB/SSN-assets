<VirtualHost *:80>
        ServerName drive.surfcloud.nl
        ServerAdmin info@localhost
        DocumentRoot /var/www/drive.surfcloud.nl

	ErrorLog ${APACHE_LOG_DIR}/error.log
        CustomLog ${APACHE_LOG_DIR}/access.log combined

        <Directory /var/www/drive.surfcloud.nl>
                Options Indexes FollowSymLinks MultiViews
                AllowOverride All
                Order allow,deny
                allow from all
        </Directory>

	RewriteEngine on

        RewriteCond %{REQUEST_FILENAME} !-f
        RewriteCond %{REQUEST_FILENAME} !-d

        RewriteRule /(.*) https://drive.surfcloud.nl/$1 [P]

	SSLProxyEngine On
        #ProxyPassReverse / https://drive.surfcloud.nl
</VirtualHost>

<VirtualHost *:443>
        ServerName drive.surfcloud.nl
        ServerAdmin info@localhost
        DocumentRoot /var/www/drive.surfcloud.nl

        ErrorLog ${APACHE_LOG_DIR}/error.log
        CustomLog ${APACHE_LOG_DIR}/access.log combined

        <Directory /var/www/drive.surfcloud.nl>
                Options Indexes FollowSymLinks MultiViews
                AllowOverride All
                Order allow,deny
                allow from all
        </Directory>

        SSLProxyEngine On
        #ProxyPassReverse / https://drive.surfcloud.nl

        SSLEngine on
        SSLCertificateFile /etc/apache2/ssl/drive.surfcloud.nl.crt
        SSLCertificateKeyFile /etc/apache2/ssl/drive.surfcloud.nl.key
</VirtualHost>

<VirtualHost *:80>
        ServerName surfdrive-session.lan
        ServerAdmin info@localhost
        DocumentRoot /var/www/surfdrive-session.lan

        ErrorLog ${APACHE_LOG_DIR}/error.log
        CustomLog ${APACHE_LOG_DIR}/access.log combined

        <Directory /var/www/surfdrive-session.lan>
                Options Indexes FollowSymLinks MultiViews
                AllowOverride All
                Order allow,deny
                allow from all
        </Directory>
</VirtualHost>

<VirtualHost *:80>
        ServerName surfdrive-webdav.lan
        ServerAdmin info@localhost
        DocumentRoot /var/www/surfdrive-webdav.lan

        ErrorLog ${APACHE_LOG_DIR}/error.log
        CustomLog ${APACHE_LOG_DIR}/access.log combined

        <Directory /var/www/surfdrive-webdav.lan>
                Options Indexes FollowSymLinks MultiViews
                AllowOverride All
                Order allow,deny
                allow from all
        </Directory>
</VirtualHost>